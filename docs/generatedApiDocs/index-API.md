<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## analyticsParser

A module that can transform raw analytics dump files.

## parseExtractedFile

Converts the given extracted JSON analytics dump file int a processed JSON representation and returns it.
Will optionally write the json file to disk if targetFilePath is specified below.

#### The processed JSON format is an array of sample item below:

```js
[{
    "type": "usage",
    "category": "languageServerProtocol",
    "subCategory": "codeHintsphp",
    "count": 1,
    "value": "45", // value is optional, if present, the count specified the number of times the value happened.
    "geoLocation": {
        "city": "Gurugram (Sector 44)",
        "continent": "Asia",
        "country": "India",
        "isInEuropeanUnion": false
    },
    "sessionID": "cmn92zuk0i",
    "clientTimeUTC": 1669799589768, // this is the time as communicated by the client, but client clock may be wrong
    // server time is approximated time based on servers time. client time should be preferred, and
    // serverTimeUTC used to validate that the client is not wrong/lying about its time.
    "serverTimeUTC": 1669799580000,
    "uuid": "208c5676-746f-4493-80ed-d919775a2f1d"
}, ...]
```

Type: [function][1]

### Parameters

*   `JSONFilePath` **[string][2]**&#x20;
*   `targetFilePath` **[string][2]?** Optional path, if specified will write to file as well.

### Examples

To parse the extracted json analytics dump file:

```javascript
// To extract the expanded analytics dump to a json file
 let expandedJSON = await parseExtractedFile('path/to/someText.json', "target/path/to/expanded.json");
 // if you do not want to expand to a json file and only want the parsed array, omit the second parameter.
 let expandedJSON = await parseExtractedFile('path/to/someText.json');
```

Returns **[Promise][3]<[Object][4]>** Promised that resolves to an object representing analytics data as described above.

## parseGZIP

Converts the given Gzip analytics dump file int a processed JSON representation and returns it.
Will optionally write the json file to disk if targetFilePath is specified below. Note that the file name should be
exactly of the form `brackets-prod.2022-11-30-9-13-17-656.v1.json.tar.gz` containing a single file
`brackets-prod.2022-11-30-9-13-17-656.v1.json`. If you want to parse the extracted JSON, use the `parseExtractedFile`
method instead.

#### The processed JSON format is an array of sample item below:

```js
[{
    "type": "usage",
    "category": "languageServerProtocol",
    "subCategory": "codeHintsphp",
    "count": 1,
    "value": "23", // value is optional, if present, the count specified the number of times the value happened.
    "geoLocation": {
        "city": "Gurugram (Sector 44)",
        "continent": "Asia",
        "country": "India",
        "isInEuropeanUnion": false
    },
    "sessionID": "cmn92zuk0i",
    "clientTimeUTC": 1669799589768, // this is the time as communicated by the client, but client clock may be wrong
    // server time is approximated time based on servers time. client time should be preferred, and
    // serverTimeUTC used to validate that the client is not wrong/lying about its time.
    "serverTimeUTC": 1669799580000,
    "uuid": "208c5676-746f-4493-80ed-d919775a2f1d"
},...]
```

Type: [function][1]

### Parameters

*   `gzipFilePath` **[string][2]**&#x20;
*   `targetFilePath` **[string][2]?** Optional path, if specified will write to file as well.

### Examples

To parse the GZipped analytics dump file:

```javascript
// To extract to a json file, give the gzip file path. Note that the file name should be
 // exactly of the form `brackets-prod.2022-11-30-9-13-17-656.v1.json.tar.gz` containing a single file
 // `brackets-prod.2022-11-30-9-13-17-656.v1.json`. If you want to parse Extracted JSON, use the `parseExtractedFile`
 // method instead.
 let expandedJSON = await parseGZIP('path/to/brackets-prod.2022-11-30-9-13-17-656.v1.json.tar.gz',
    "target/path/to/expanded.json");
 // if you do not want to expand to a json file and only want the parsed array, omit the second parameter.
 let expandedJSON = await parseGZIP('path/to/brackets-prod.2022-11-30-9-13-17-656.v1.json.tar.gz');
```

Returns **[Promise][3]<[Object][4]>** Promised that resolves to an object representing analytics data as described above.

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
